# DLA_KWS
## Инструкции по использованию

Чтобы использовать стриминговую модель нужно:

(1) Скачать гит репозеторий:

```shell
git clone https://github.com/retir/DLA_KWS
cd DLA_KWS
```

(2) Установить ffmpeg и в `stream.py` в строке с `streamer = StreamReader()` аргументом src указать девайс микрофона (подробнее в [оффициальной документации ffmpeg](https://ffmpeg.org))

Также в `stream.py` можно указать модель (которая должна быть сохранена в `.jit` формате)

```shell
model = torch.load("model_path").eval()
```

(3) Запустить скрипт `stream.py`:

```shell
python stream.py
```
## Структура репозитория

Все основные предобученные модели сохранены в дирректории `/pretrained`, из них `scriptmodule.pt` - стриминговая модель, сохранённая в `.jit` формате, имеющая внутри `quantized.pt`. Все остальные модели сохранены в обычном формате. Лучшее качество из них показывает `quantized.pt`: **speedup - 10.17**, **sizeup - 7.84**. 

Остальные модели - промежуточные, графики и основные комментарии (отчёт) можно найти в `dlahw2.ipynb`. Нотбук `additional.ipynb` нужен только для секции 5 (подробнее в отчёте). `speech_saver.py` использовался для записи и сохранения голоса с микрофона (файлы 'speech_true.pt' и 'speech.pt'), используется в отчёте.
